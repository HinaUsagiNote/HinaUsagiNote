# matplotlib 한글처리
matplotlib에 설정되있는 폰트가 한글을 지원하지 않기 때문에 그래프의 한글이 깨져서 나온다.


```python
import matplotlib.pyplot as plt
plt.plot(range(-10,10))
plt.xlabel("X값")
plt.ylabel("Y값")
plt.title('matplotlib 예제')
plt.show()
```


    
![png](output_1_0.png)
    


## 설정방법
1. 설정파일을 변경한다. 
    - 한번만 하면 된다.
2. 프로그램상에서 변경한다.
    - 프로그램이 로딩 될때마다 (노트북 파일이나 파이썬 스크립트 실행시마다) 코드를 실행해야 한다.
    - 전체 설정에서 변경하고 싶은 것을 재설정한다.

## OS에 설치된 폰트명 조회


```python
import matplotlib as mpl
import matplotlib.font_manager as fm
```

폰트 cache 파일을 삭제 한다.


```python
# cache 파일 조회
# 다음 실행 결과로 나온 디렉토리 안의 파일을 삭제한다. 
print(mpl.get_cachedir())
```

    C:\Users\world\.matplotlib
    

전체 폰트 조회


```python
for f in fm.fontManager.ttflist:
    print(f.name, f.fname, sep='------')  # 폰트이름, 폰트파일경로
```

    STIXGeneral------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXGeneralItalic.ttf
    DejaVu Serif------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSerif-Bold.ttf
    STIXGeneral------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXGeneralBolIta.ttf
    DejaVu Sans Mono------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSansMono-Oblique.ttf
    STIXNonUnicode------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXNonUniBol.ttf
    STIXSizeThreeSym------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXSizThreeSymReg.ttf
    STIXSizeThreeSym------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXSizThreeSymBol.ttf
    STIXSizeTwoSym------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXSizTwoSymReg.ttf
    cmmi10------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\cmmi10.ttf
    DejaVu Sans Mono------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSansMono.ttf
    DejaVu Sans Mono------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSansMono-Bold.ttf
    STIXGeneral------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXGeneralBol.ttf
    STIXSizeTwoSym------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXSizTwoSymBol.ttf
    STIXSizeOneSym------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXSizOneSymReg.ttf
    STIXNonUnicode------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXNonUniIta.ttf
    cmtt10------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\cmtt10.ttf
    DejaVu Sans------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSans-Oblique.ttf
    DejaVu Serif------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSerif-BoldItalic.ttf
    cmex10------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\cmex10.ttf
    DejaVu Sans------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSans-BoldOblique.ttf
    STIXSizeFiveSym------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXSizFiveSymReg.ttf
    STIXGeneral------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXGeneral.ttf
    STIXNonUnicode------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXNonUni.ttf
    STIXSizeFourSym------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXSizFourSymReg.ttf
    STIXNonUnicode------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXNonUniBolIta.ttf
    STIXSizeOneSym------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXSizOneSymBol.ttf
    cmsy10------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\cmsy10.ttf
    DejaVu Sans Display------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSansDisplay.ttf
    DejaVu Serif Display------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSerifDisplay.ttf
    cmss10------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\cmss10.ttf
    STIXSizeFourSym------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\STIXSizFourSymBol.ttf
    DejaVu Serif------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSerif.ttf
    cmb10------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\cmb10.ttf
    cmr10------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\cmr10.ttf
    DejaVu Sans Mono------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSansMono-BoldOblique.ttf
    DejaVu Sans------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSans.ttf
    DejaVu Sans------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSans-Bold.ttf
    DejaVu Serif------C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\fonts\ttf\DejaVuSerif-Italic.ttf
    Microsoft YaHei------C:\Windows\Fonts\msyhbd.ttc
    Meiryo------C:\Windows\Fonts\meiryo.ttc
    Arial------C:\Windows\Fonts\arial.ttf
    BIZ UDMincho------C:\Windows\Fonts\BIZ-UDMinchoM.ttc
    Webdings------C:\Windows\Fonts\webdings.ttf
    Calibri------C:\Windows\Fonts\calibril.ttf
    Nirmala UI------C:\Windows\Fonts\NirmalaS.ttf
    UD Digi Kyokasho N-B------C:\Windows\Fonts\UDDigiKyokashoN-B.ttc
    Microsoft YaHei------C:\Windows\Fonts\msyhl.ttc
    Malgun Gothic------C:\Windows\Fonts\malgunbd.ttf
    MS Gothic------C:\Windows\Fonts\msgothic.ttc
    Yu Mincho------C:\Windows\Fonts\yuminl.ttf
    Segoe Print------C:\Windows\Fonts\segoeprb.ttf
    Candara------C:\Windows\Fonts\Candarab.ttf
    Comic Sans MS------C:\Windows\Fonts\comicz.ttf
    Constantia------C:\Windows\Fonts\constanz.ttf
    Calibri------C:\Windows\Fonts\calibrii.ttf
    Leelawadee UI------C:\Windows\Fonts\LeelawUI.ttf
    Courier New------C:\Windows\Fonts\courbd.ttf
    Arial------C:\Windows\Fonts\arialbd.ttf
    Microsoft Tai Le------C:\Windows\Fonts\taileb.ttf
    Nirmala UI------C:\Windows\Fonts\Nirmala.ttf
    Yu Gothic------C:\Windows\Fonts\YuGothM.ttc
    Lucida Sans Unicode------C:\Windows\Fonts\l_10646.ttf
    Arial------C:\Windows\Fonts\arialbi.ttf
    Times New Roman------C:\Windows\Fonts\timesbd.ttf
    MV Boli------C:\Windows\Fonts\mvboli.ttf
    Corbel------C:\Windows\Fonts\corbelb.ttf
    Ink Free------C:\Windows\Fonts\Inkfree.ttf
    Verdana------C:\Windows\Fonts\verdana.ttf
    Courier New------C:\Windows\Fonts\cour.ttf
    HoloLens MDL2 Assets------C:\Windows\Fonts\holomdl2.ttf
    Microsoft New Tai Lue------C:\Windows\Fonts\ntailu.ttf
    Gabriola------C:\Windows\Fonts\Gabriola.ttf
    Trebuchet MS------C:\Windows\Fonts\trebucbd.ttf
    Symbol------C:\Windows\Fonts\symbol.ttf
    SimSun-ExtB------C:\Windows\Fonts\simsunb.ttf
    Yu Mincho------C:\Windows\Fonts\yumindb.ttf
    Sitka Small------C:\Windows\Fonts\SitkaZ.ttc
    Segoe Script------C:\Windows\Fonts\segoesc.ttf
    Microsoft JhengHei------C:\Windows\Fonts\msjhbd.ttc
    Microsoft Tai Le------C:\Windows\Fonts\taile.ttf
    Georgia------C:\Windows\Fonts\georgia.ttf
    Segoe UI Symbol------C:\Windows\Fonts\seguisym.ttf
    Consolas------C:\Windows\Fonts\consolaz.ttf
    MS Mincho------C:\Windows\Fonts\msmincho.ttc
    Corbel------C:\Windows\Fonts\corbel.ttf
    Leelawadee UI------C:\Windows\Fonts\LeelaUIb.ttf
    Wingdings------C:\Windows\Fonts\wingding.ttf
    Segoe UI------C:\Windows\Fonts\seguisli.ttf
    Microsoft PhagsPa------C:\Windows\Fonts\phagspa.ttf
    Yu Gothic------C:\Windows\Fonts\YuGothB.ttc
    Times New Roman------C:\Windows\Fonts\timesbi.ttf
    Segoe Script------C:\Windows\Fonts\segoescb.ttf
    Palatino Linotype------C:\Windows\Fonts\palabi.ttf
    Candara------C:\Windows\Fonts\Candaraz.ttf
    Microsoft New Tai Lue------C:\Windows\Fonts\ntailub.ttf
    Courier New------C:\Windows\Fonts\couri.ttf
    Microsoft PhagsPa------C:\Windows\Fonts\phagspab.ttf
    Trebuchet MS------C:\Windows\Fonts\trebucbi.ttf
    Segoe UI------C:\Windows\Fonts\segoeuisl.ttf
    Consolas------C:\Windows\Fonts\consola.ttf
    BIZ UDGothic------C:\Windows\Fonts\BIZ-UDGothicB.ttc
    SimSun------C:\Windows\Fonts\simsun.ttc
    Cambria------C:\Windows\Fonts\cambria.ttc
    Comic Sans MS------C:\Windows\Fonts\comic.ttf
    Segoe UI------C:\Windows\Fonts\segoeuib.ttf
    Calibri------C:\Windows\Fonts\calibrili.ttf
    Constantia------C:\Windows\Fonts\constan.ttf
    Microsoft Himalaya------C:\Windows\Fonts\himalaya.ttf
    Corbel------C:\Windows\Fonts\corbelz.ttf
    Franklin Gothic Medium------C:\Windows\Fonts\framd.ttf
    Segoe UI------C:\Windows\Fonts\segoeuiz.ttf
    Verdana------C:\Windows\Fonts\verdanab.ttf
    Bahnschrift------C:\Windows\Fonts\bahnschrift.ttf
    Candara------C:\Windows\Fonts\Candarai.ttf
    MingLiU-ExtB------C:\Windows\Fonts\mingliub.ttc
    Cambria------C:\Windows\Fonts\cambriaz.ttf
    Tahoma------C:\Windows\Fonts\tahomabd.ttf
    Constantia------C:\Windows\Fonts\constanb.ttf
    Gulim------C:\Windows\Fonts\gulim.ttc
    Ebrima------C:\Windows\Fonts\ebrimabd.ttf
    Calibri------C:\Windows\Fonts\calibrib.ttf
    Verdana------C:\Windows\Fonts\verdanai.ttf
    Times New Roman------C:\Windows\Fonts\timesi.ttf
    Trebuchet MS------C:\Windows\Fonts\trebuc.ttf
    Segoe UI------C:\Windows\Fonts\seguibl.ttf
    Ebrima------C:\Windows\Fonts\ebrima.ttf
    Segoe UI Emoji------C:\Windows\Fonts\seguiemj.ttf
    Segoe Print------C:\Windows\Fonts\segoepr.ttf
    Sylfaen------C:\Windows\Fonts\sylfaen.ttf
    Palatino Linotype------C:\Windows\Fonts\palab.ttf
    Malgun Gothic------C:\Windows\Fonts\malgun.ttf
    Trebuchet MS------C:\Windows\Fonts\trebucit.ttf
    Segoe UI------C:\Windows\Fonts\segoeui.ttf
    Segoe MDL2 Assets------C:\Windows\Fonts\segmdl2.ttf
    Gadugi------C:\Windows\Fonts\gadugi.ttf
    Georgia------C:\Windows\Fonts\georgiaz.ttf
    Consolas------C:\Windows\Fonts\consolai.ttf
    Leelawadee UI------C:\Windows\Fonts\LeelUIsl.ttf
    Candara------C:\Windows\Fonts\Candara.ttf
    Sitka Small------C:\Windows\Fonts\SitkaB.ttc
    Yu Mincho------C:\Windows\Fonts\yumin.ttf
    Meiryo------C:\Windows\Fonts\meiryob.ttc
    Corbel------C:\Windows\Fonts\corbell.ttf
    Yu Gothic------C:\Windows\Fonts\YuGothL.ttc
    Mongolian Baiti------C:\Windows\Fonts\monbaiti.ttf
    Cambria------C:\Windows\Fonts\cambriai.ttf
    Malgun Gothic------C:\Windows\Fonts\malgunsl.ttf
    Cambria------C:\Windows\Fonts\cambriab.ttf
    Franklin Gothic Medium------C:\Windows\Fonts\framdit.ttf
    Georgia------C:\Windows\Fonts\georgiab.ttf
    BIZ UDGothic------C:\Windows\Fonts\BIZ-UDGothicR.ttc
    Segoe UI------C:\Windows\Fonts\segoeuii.ttf
    Segoe UI Historic------C:\Windows\Fonts\seguihis.ttf
    Candara------C:\Windows\Fonts\Candarali.ttf
    Comic Sans MS------C:\Windows\Fonts\comici.ttf
    Courier New------C:\Windows\Fonts\courbi.ttf
    Times New Roman------C:\Windows\Fonts\times.ttf
    Segoe UI------C:\Windows\Fonts\seguili.ttf
    Arial------C:\Windows\Fonts\ariblk.ttf
    Palatino Linotype------C:\Windows\Fonts\pala.ttf
    Calibri------C:\Windows\Fonts\calibri.ttf
    Gadugi------C:\Windows\Fonts\gadugib.ttf
    Nirmala UI------C:\Windows\Fonts\NirmalaB.ttf
    Corbel------C:\Windows\Fonts\corbeli.ttf
    Segoe UI------C:\Windows\Fonts\segoeuil.ttf
    Lucida Console------C:\Windows\Fonts\lucon.ttf
    Batang------C:\Windows\Fonts\batang.ttc
    Microsoft Yi Baiti------C:\Windows\Fonts\msyi.ttf
    Constantia------C:\Windows\Fonts\constani.ttf
    Segoe UI------C:\Windows\Fonts\seguibli.ttf
    Comic Sans MS------C:\Windows\Fonts\comicbd.ttf
    Microsoft Sans Serif------C:\Windows\Fonts\micross.ttf
    Microsoft JhengHei------C:\Windows\Fonts\msjh.ttc
    UD Digi Kyokasho N-R------C:\Windows\Fonts\UDDigiKyokashoN-R.ttc
    Consolas------C:\Windows\Fonts\consolab.ttf
    Candara------C:\Windows\Fonts\Candaral.ttf
    Sitka Small------C:\Windows\Fonts\Sitka.ttc
    Corbel------C:\Windows\Fonts\corbelli.ttf
    Microsoft YaHei------C:\Windows\Fonts\msyh.ttc
    Yu Gothic------C:\Windows\Fonts\YuGothR.ttc
    Tahoma------C:\Windows\Fonts\tahoma.ttf
    Impact------C:\Windows\Fonts\impact.ttf
    Myanmar Text------C:\Windows\Fonts\mmrtextb.ttf
    Palatino Linotype------C:\Windows\Fonts\palai.ttf
    Javanese Text------C:\Windows\Fonts\javatext.ttf
    Calibri------C:\Windows\Fonts\calibriz.ttf
    Verdana------C:\Windows\Fonts\verdanaz.ttf
    Arial------C:\Windows\Fonts\ariali.ttf
    Segoe UI------C:\Windows\Fonts\seguisbi.ttf
    Georgia------C:\Windows\Fonts\georgiai.ttf
    Myanmar Text------C:\Windows\Fonts\mmrtext.ttf
    Segoe UI------C:\Windows\Fonts\seguisb.ttf
    Sitka Small------C:\Windows\Fonts\SitkaI.ttc
    Microsoft JhengHei------C:\Windows\Fonts\msjhl.ttc
    

원하는 폰트명 찾기


```python
[(f.name,f.fname) for f in fm.fontManager.ttflist if 'malg' in f.name.lower()]  
#mac : AppleGothic
# 설정시 폰트 이름을 사용
```




    [('Malgun Gothic', 'C:\\Windows\\Fonts\\malgunbd.ttf'),
     ('Malgun Gothic', 'C:\\Windows\\Fonts\\malgun.ttf'),
     ('Malgun Gothic', 'C:\\Windows\\Fonts\\malgunsl.ttf')]



## 폰트등 환경 설정하기 
###  설정파일 변경
- 한번만 하면 되므로 편리하다.

설정파일 경로찾기: `matplotlib.matplotlib_fname()`
matplotlib 관련 전역 설정들을 찾아 바꿔준다.
- 폰트 관련 설정
```
font.family:Malgun Gothic
font.size:20
axes.titlesize:30
axes.labelsize:20  
axes.unicode_minus:False
xtick.labelsize:15
ytick.labelsize:15 
```


```python
print(mpl.matplotlib_fname())
```

    C:\Users\world\anaconda3\envs\da\Lib\site-packages\matplotlib\mpl-data\matplotlibrc
    

### 함수를 이용해 설정
- `matplotlib.rcParam['설정'] = 값` 으로 변경


```python
import matplotlib as mpl
from matplotlib import font_manager as fm

# 한글 폰트 설정
font_name = fm.FontProperties(fname="c:/Windows/Fonts/malgun.ttf").get_name()

# 폰트변경
mpl.rcParams["font.family"] = font_name # malgun gothic
# 폰트 size변경
mpl.rcParams["font.size"] = 20
# x, y 축의 label 크기 변경
mpl.rcParams['axes.labelsize'] = 15
# x, y 축의 tick(눈금) label 크기 변경
mpl.rcParams['xtick.labelsize'] = 12
mpl.rcParams['ytick.labelsize'] = 12

# tick의 음수기호 '-' 가 깨지는 것 처리
mpl.rcParams['axes.unicode_minus'] = False
```


```python
import matplotlib.pyplot as plt
plt.plot(range(-5,6))
plt.xlabel("X값")
plt.ylabel("Y값")
plt.title('matplotlib 예제')
plt.show()
```


    
![png](output_16_0.png)
    



```python

```
